# -*- mode: text; fill-column: 75; coding: utf-8-unix; encoding: utf-8 -*-

From: ../features/steps/ir.py


   Test the core trytond/ir/ functionalities.
   1) Try to make an attachment in the form on a link

**ir/attachment test**
   Try to make an attachment in the form of a link
   onto the admin user. Not working.
   FixMe:

**Attach to an instance named "{uName}" of class "{uClass}" the content of this feature file**

**Attach to an instance named "{uName}" of class "{uClass}" a link to an existing file with the following |filename| fields**

**Attach to an instance with field "{uField}" "{uValue}" of class "{uClass}" a link to an existing file with the following |filename| fields**
   Class = proteus.Model.get(uClass)
   oResource = Class.find([(uField, '=', uValue)])[0]
   assert context.table
   for row in context.table:
   uFile = row['filename']
   assert os.path.exists(uFile), "Does not exist: " +uFile
   o = stepfuns.oAttachLinkToFileToResource(oResource, uFile)
   assert o

**Attach to an instance with field "{uField}" "{uValue}" of class "{uClass}" the content of an existing file with the following |filename| fields**
   Class = proteus.Model.get(uClass)
   oResource = Class.find([(uField, '=', uValue)])[0]
   assert context.table
   for row in context.table:
   uFile = row['filename']
   assert os.path.exists(uFile), "Does not exist: " +uFile
   o = stepfuns.oAttachFileContentToResource(oResource, uFile)
   assert o
